<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="ie=edge" http-equiv="X-UA-Compatible">
    <title>简单动画函数封装</title>
</head>

<body>
<button style="width: 80px;height: 80px;background-color: brown;">点击</button>
<div style="width: 200px;height: 200px;background-color: pink;position: absolute;top: 90px;left: 0;"></div>

</body>
<script>
    // 封装动画函数
    // 封装动画函数
    function Animation(obj, distance) {

        // 1.解决了多次重复调用事件加速度多次执行,每次点击都会清楚之前的定时器，然后才会开启新的定时器，保证只有一个定时器再走
        clearInterval(obj.time);

        // 2.解决了定时器名称重复,给不同的元素记录不同的计时器 obj.time ，不用声明多个var，节省内存空间
        obj.time = setInterval(function () {
            if (obj.offsetLeft >= distance) {
                clearInterval(obj.time);
            } else {
                obj.style.left = obj.offsetLeft + 1 + 'px';
            }
        }, 30)
    }

    var div = document.querySelector('div');
    // Animation(div, 100);

    var btn = document.querySelector('button');
    btn.addEventListener('click', function () {
        Animation(div, 100);
    })
</script>

</html>